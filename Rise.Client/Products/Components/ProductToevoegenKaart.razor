@using Microsoft.AspNetCore.Components
@using Microsoft.AspNetCore.Components.Forms
@using Rise.Client.Products.Services
@using Rise.Shared.Products
@using Blazored.FluentValidation

<div class="row">
    <div class="col p-2">
        <div class="card">
            <div class="card-header px-4">
                <b style="font-size: 20px;">Vul onderstaande velden in en voeg het product toe aan het assortiment</b>
            </div>
            <div class="card-body d-flex flex-column p-4">
                
                 @if ( leveranciers != null)
{
                    <EditForm Model="@createProductDto" OnValidSubmit="ProductToevoegen">
                    <FluentValidationValidator />
                   
                    <div class="row">
                        <div class="col-lg-12 col-xl-6">
                            <div class="form-group pb-3">
                                <label for="name">Naam</label>
                                <InputText class="form-control" id="name" @bind-Value="createProductDto.Name" />
                                <ValidationMessage For="@(() => createProductDto.Name)" />
                            </div>
                            <div class="form-group pb-3">
                                <label for="location">Locatie</label>
                                <InputText class="form-control" id="location" @bind-Value="createProductDto.Location" />
                                <ValidationMessage For="@(() => createProductDto.Location)" />
                            </div>
                            <div class="form-group pb-3">
                                <label for="description">Beschrijving</label>
                                <InputTextArea class="form-control" id="description" @bind-Value="createProductDto.Description" />
                                <ValidationMessage For="@(() => createProductDto.Description)" />
                            </div>
                            <div class="form-group pb-3">
                                <label for="barcode">Barcode</label>
                                <InputText class="form-control" id="barcode" @bind-Value="createProductDto.Barcode" />
                                <ValidationMessage For="@(() => createProductDto.Barcode)" />
                            </div>
                            <div class="form-group pb-3">
                                <label for="quantity">Aantal</label>
                                <InputNumber class="form-control" id="quantity" @bind-Value="createProductDto.Quantity" />
                                <ValidationMessage For="@(() => createProductDto.Quantity)" />
                            </div>
                            <div class="form-group pb-3">
                                <label for="minStock">Minimale Voorraad</label>
                                <InputNumber class="form-control" id="minStock" @bind-Value="createProductDto.MinStock" />
                                <ValidationMessage For="@(() => createProductDto.MinStock)" />
                            </div>
                            <div class="form-group pb-3">
                                <label for="keywords">Trefwoorden</label>
                                <InputText class="form-control" id="keywords" @bind-Value="createProductDto.Keywords" />
                                <ValidationMessage For="@(() => createProductDto.Keywords)" />
                            </div>
                                <div class="form-group pb-3">
                                    <label for="reusable">Herbruikbaar</label>
                                    <select class="form-control" id="reusable" @bind="createProductDto.Reusable">
                                        <option value="true">Ja</option>
                                        <option value="false">Nee</option>
                                    </select>
                                    <ValidationMessage For="@(() => createProductDto.Reusable)" />
                                </div>


                                <div class="form-group pb-3">
                                    <label for="leverancier">Leverancier </label>
                                    <select class="form-control" id="leverancier" @bind="createProductDto.LeverancierId">
                                        <option value="0">Selecteer een leverancier uit de lijst</option>
                                        @foreach (var leverancier in leveranciers)
                                        {
                                            <option value="@leverancier.Id">@leverancier.Name</option>
                                        }
                                    </select>
                                    <ValidationMessage For="@(() => createProductDto.LeverancierId)" />
                                </div>
                         
                        </div>
                            <div class="col-lg-12 col-xl-6">
                                <div class="pb-4">
                                    <label for="imageUpload" class="form-label">Afbeelding kiezen</label>
                                    <InputFile class="form-control" id="imageUpload" accept="image/*" OnChange="HandleImageSelection" />
                                </div>
                            </div>
                        
                    </div>
                    <div class="row justify-content-end me-1">
                            <button class="btn btn-dark" type="submit"  style="width: auto;">Voeg product toe</button>
                    </div>
                </EditForm>
}
            </div>
        </div>
    </div>
</div>

